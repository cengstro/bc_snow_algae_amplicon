---
title: "Figures"
output: pdf_document
---

```{r setup, include=FALSE}
library(knitr)
library(tidyverse)
library(here)
library(grid)

opts_chunk$set(fig.align= "center", echo=FALSE, warning=FALSE, message=FALSE)
```



```{r input, include=F}

asv_similarity <- include_graphics(here("manuscript/figs/main/taxonomy/asvs2.png"))
communities <- include_graphics(here("manuscript/figs/stacked_barplot.png"))
unifrac <- include_graphics(here("manuscript/figs/main/uf_plot.png"))
# depth <- include_graphics(here("manuscript/figs/depth_comparison/depth_fig.png"))

field_cap <- "Representative photographs of snow algae. A. Red snow bloom above treeline at sample site G1.1. B. Microphotograph of red snow containing \\emph{Sanguina nivaloides} (Sn) and \\emph{Chlainomonas rubra} (Cr) cell morphologies. All scale bars 30 um, all microphotos under 63x objectives with DIC. C. Snow runnels form dendritic branching patterns on the snow surface, sample site S9. D. Microphotograph of orange snow from the surface of runnel containing \\emph{Chloromonas krienitzii} (Ck) and \\emph{Chloromonas cf. nivalis} (Cn). E. Bronze coloured snow spots below conifer canopy. F. Microphotograph of bronze snow containing \\emph{Chloromonas cf. brevispina} (Cb), \\emph{Chloromonas cf. nivalis} (Cn), and \\emph{Chlainomonas rubra} (Cr)."

asv_cap <- "A. MDS clustering of \\emph{rbc}L ASVs. Color represents taxonomy, size proportional to relative abundance. Dotted ellipses show OTU clusters. Stress = 0.13. B. t-SNE clustering of snow algae \\emph{rbc}L ASVs. Perplexity = 30."

heatmap_cap <- "Stacked barplot showing relative abundance community composition using cell morphology, 18S, and \\emph{rbc}L. Taxonomic designations for \\emph{rbcL} are based on \\emph{de novo} OTU clustering, while taxonomic assignments for 18S are reference-based. Samples on the y-axis are arranged in order of elevation."

unifrac_cap <- "\\emph{rbc}L UniFrac similarity between snow algae samples. Points colored by elevation."
```


```{r field, fig.cap = field_cap}
include_graphics(here("manuscript/figs/main/field/field.png"))
```


```{r asvs, fig.cap = asv_cap, fig.width=5, fig.height=5}
asv_similarity
```

```{r rel_abund, fig.cap = heatmap_cap, fig.width=6, fig.height=5}
communities
```

```{r unifrac, fig.cap = unifrac_cap}
unifrac
```


